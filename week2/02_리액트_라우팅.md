# 리액트 라우팅 이해하기

+ react-router-dom

<br>

## SPA(Single Page Application)

### SPA 라우팅 과정

1. 브라우저에서 최초에 '/' 경로로 요청을 하면
2. React Web App 을 내려줍니다. 
3. 내려 받은 React App 에서 '/' 경로에 맞는 컴포넌트를 보여줍니다. 
4. React App 에서 다른 페이지로 이동하는 동작을 수행하면,
5. 새로운 경로에 맞는 컴포넌트를 보여줍니다. 

<br>

## React Router

![React Router](https://s3.amazonaws.com/media-p.slid.es/uploads/640576/images/6617576/스크린샷_2019-10-05_오전_12.49.38.png)

<br>

### 설치

+ cra 에 기본 내장된 패키지가 아닙니다. 
+ react-router-dom 은 Facebook 의 공식 패키지는 아닙니다. 
+ 가장 대표적인 라우팅 패키지입니다. 

```bash
npm create-react-app react-router-example
cd react-router-example
npm i react-router-dom # 설치
code.
npm start
```

<br>

#### 특정 경로에서 보여줄 컴포넌트를 준비합니다. 

+ '/' => Home 컴포넌트
+ '/profile' => Profile 컴포넌트
+ '/about' => About 컴포넌트

<br>

### 컴포넌트

+ src 폴더 안에 pages 폴더 생성 후 아래의 파일 작성

```jsx
/* src/pages/Home.jsx */

import React from 'react';

export default function Home() {
    return (
    	<div>
        	<h2>Home 페이지 입니다.</h2>
        </div>
    );
}
```

```jsx
/* src/pages/Profile.jsx */

import React from 'react';

export default function Profile() {
    return (
    	<div>
        	<h2>Profile 페이지 입니다.</h2>
        </div>
    );
}
```

```jsx
/* src/pages/About.jsx */

import React from 'react';

export default function About() {
    return (
    	<div>
        	<h2>About 페이지 입니다.</h2>
        </div>
    );
}
```

<br>

```jsx
/* src/App.js */

import React from 'react';
import { BrowserRouter, Route } from 'react-router-dom';
import Home from './pages/Home';
import Profile from './pages/Profile';
import About from './pages/About';

function App() {
  return (
    <BrowserRouter>
      <Route path="/" component={Home} />
      <Route path="/profile" component={Profile} />
      <Route path="/about" component={About} />
    </BrowserRouter>
  );
}

export default App;
```

+ Route 컴포넌트에 경로(path) 와 컴포넌트(component) 를 설정하여 나열해줍니다. 
+ BrowserRouter 로 Route 들을 감싸줍니다. 
+ 브라우저에서 요청한 경로에 Route 의 path 가 들어있으면 해당 component 를 보여줍니다.

<br>

### exact

```bash
react-app
├── / 
│   ├── / 		# Home 페이지 입니다.
├── /profile
│   ├── / 			# Home 페이지 입니다.
│   ├── /profile	# Profile 페이지 입니다.
└── /about
    ├── / 			# Home 페이지 입니다.
    └── /about		# About 페이지 입니다.
```

+ / 는 매칭 알고리즘에 의해서 같다고 판단됨

```jsx
<Route path"/" exact component={Home} />
```

+ exact 를 사용하면 정확하게 페이지 경로를 판단